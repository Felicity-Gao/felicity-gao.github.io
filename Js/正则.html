<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则 | Felicity的笔记本</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="旧书不厌百回读，熟读深思子自知">
    <link rel="preload" href="/assets/css/0.styles.ccac5a78.css" as="style"><link rel="preload" href="/assets/js/app.04cf801e.js" as="script"><link rel="preload" href="/assets/js/2.a854afe6.js" as="script"><link rel="preload" href="/assets/js/7.9348dc28.js" as="script"><link rel="prefetch" href="/assets/js/10.f3cbabb8.js"><link rel="prefetch" href="/assets/js/11.8796721f.js"><link rel="prefetch" href="/assets/js/12.2c9e3669.js"><link rel="prefetch" href="/assets/js/13.a548d7c2.js"><link rel="prefetch" href="/assets/js/14.218e1174.js"><link rel="prefetch" href="/assets/js/15.50ad215d.js"><link rel="prefetch" href="/assets/js/16.aca784d2.js"><link rel="prefetch" href="/assets/js/17.06643324.js"><link rel="prefetch" href="/assets/js/18.9bd15840.js"><link rel="prefetch" href="/assets/js/19.9dd0fe6c.js"><link rel="prefetch" href="/assets/js/20.8f3d6e79.js"><link rel="prefetch" href="/assets/js/21.cfd1acce.js"><link rel="prefetch" href="/assets/js/22.06b2fd01.js"><link rel="prefetch" href="/assets/js/23.b91608a5.js"><link rel="prefetch" href="/assets/js/24.b8baa705.js"><link rel="prefetch" href="/assets/js/25.6a0f76b3.js"><link rel="prefetch" href="/assets/js/26.93c3674f.js"><link rel="prefetch" href="/assets/js/27.c41d6a07.js"><link rel="prefetch" href="/assets/js/28.67efba8a.js"><link rel="prefetch" href="/assets/js/29.596bf528.js"><link rel="prefetch" href="/assets/js/3.4ad4875a.js"><link rel="prefetch" href="/assets/js/30.11dc1a7f.js"><link rel="prefetch" href="/assets/js/31.a2716ec5.js"><link rel="prefetch" href="/assets/js/32.33cec965.js"><link rel="prefetch" href="/assets/js/33.f52dcc66.js"><link rel="prefetch" href="/assets/js/34.990414af.js"><link rel="prefetch" href="/assets/js/4.1cfc2f80.js"><link rel="prefetch" href="/assets/js/5.34b04f7b.js"><link rel="prefetch" href="/assets/js/6.7c57aeed.js"><link rel="prefetch" href="/assets/js/8.2eeb1601.js"><link rel="prefetch" href="/assets/js/9.931fa76b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccac5a78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.png" alt="Felicity的笔记本" class="logo"> <span class="site-name can-hide">Felicity的笔记本</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类指引" class="dropdown-title"><span class="title">分类指引</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类指引" class="mobile-dropdown-title"><span class="title">分类指引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Js/" class="nav-link router-link-active">
  Js
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue基础/插槽.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/React/umiJs.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vscode/主题及配色.html" class="nav-link">
  Vscode
</a></li><li class="dropdown-item"><!----> <a href="/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/TS/高级类型.html" class="nav-link">
  TS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="延伸拓展" class="dropdown-title"><span class="title">延伸拓展</span> <span class="arrow down"></span></button> <button type="button" aria-label="延伸拓展" class="mobile-dropdown-title"><span class="title">延伸拓展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/交互设计/" class="nav-link">
  交互设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Felicity-Gao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.jianshu.com/u/56e563067653" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类指引" class="dropdown-title"><span class="title">分类指引</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类指引" class="mobile-dropdown-title"><span class="title">分类指引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Js/" class="nav-link router-link-active">
  Js
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue基础/插槽.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/React/umiJs.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vscode/主题及配色.html" class="nav-link">
  Vscode
</a></li><li class="dropdown-item"><!----> <a href="/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/TS/高级类型.html" class="nav-link">
  TS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="延伸拓展" class="dropdown-title"><span class="title">延伸拓展</span> <span class="arrow down"></span></button> <button type="button" aria-label="延伸拓展" class="mobile-dropdown-title"><span class="title">延伸拓展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/交互设计/" class="nav-link">
  交互设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Felicity-Gao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.jianshu.com/u/56e563067653" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>深入学习</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Js/防抖与节流.html" class="sidebar-link">防抖与节流</a></li><li><a href="/Js/设计模式.html" class="sidebar-link">设计模式与原则</a></li><li><a href="/Js/高阶函数.html" class="sidebar-link">高阶函数</a></li><li><a href="/Js/正则.html" class="active sidebar-link">正则</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则"><a href="#正则" class="header-anchor">#</a> 正则</h1> <h2 id="_1-定界符"><a href="#_1-定界符" class="header-anchor">#</a> 1. 定界符</h2> <p>包括：\b(单词边界)，\B(非单词边界)，^(开头的位置)，$(结尾的位置)</p> <h4 id="难点"><a href="#难点" class="header-anchor">#</a> 难点</h4> <p>\b : 单词边界，用于匹配完整的单词而不是某个单词中含有的字符串。如：<code>/\bapple\b/g</code>可以匹配<code>apple</code>,但不能匹配到<code>aapple</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/\bapple\b/g</span>
<span class="token string">'apple'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>       <span class="token comment">// =&gt;  [&quot;apple&quot;]</span>
<span class="token string">'aapple'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>     <span class="token comment">// =&gt; null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\B : 表示非单词边界，即：一个单词内每个字符间的位置。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'123 456'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\B/g</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>     <span class="token comment">// =&gt;  &quot;1-2-3 4-5-6&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2-高级匹配用法"><a href="#_2-高级匹配用法" class="header-anchor">#</a> 2. 高级匹配用法</h2> <p>我们常用一组<code>()</code>来把匹配分组，括号扩住的相关匹配会被缓存起来。缓冲区编号从 1 开始，最多可存储 99 个捕获的子表达式</p> <h4 id="_2-1-反向引用"><a href="#_2-1-反向引用" class="header-anchor">#</a> 2.1 反向引用</h4> <ul><li>在表达式之外我们使用<code>$n</code>的方式就可以取到每组的匹配值。要取第几个括号的内容 n 就是几。</li> <li>在表达式之内我们可以使用<code>\n</code>来获取匹配， n 为一个标识特定缓冲区的一位或两位十进制数。</li></ul> <h4 id="_2-2-非捕获匹配"><a href="#_2-2-非捕获匹配" class="header-anchor">#</a> 2.2 非捕获匹配</h4> <p>语法是<code>(?:xxx)</code> 使用此格式，匹配到的值将不会被缓存。</p> <h4 id="_2-3-零宽断言-预查"><a href="#_2-3-零宽断言-预查" class="header-anchor">#</a> 2.3 零宽断言(预查)：</h4> <p>使用<code>(?+符号+匹配项)</code>格式，预查<strong>不消耗字符</strong>，也就是说，在一个匹配发生后，在预查前的最后一次匹配到的结果之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始</p> <ul><li>(?=xxx): 正向肯定预查， <code>exp1(?=exp2)</code>：查找后面有 exp2 的 exp1。 该表达式只能置于<strong>右侧</strong></li> <li>(?&lt;=xxx): 反向肯定预查， <code>(?&lt;=exp2)exp1</code>：查找前面是 exp2 的 exp1。该表达式只能置于<strong>左侧</strong></li> <li>(?!xxx): 正向否定预查，<code>exp1(?!exp2)</code>：查找后面不是 exp2 的 exp1, 该表达式只能置于<strong>右侧</strong></li> <li>(?&lt;!=xxx): 反向否定预查， <code>(?&lt;!=exp2)exp1</code>：查找前面不是 exp2 的 exp1。该表达式只能置于<strong>左侧</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'myapple apple people simple'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?!ap)ple/g</span><span class="token punctuation">)</span>   <span class="token comment">// =&gt; [&quot;ple&quot;, &quot;ple&quot;, &quot;ple&quot;, &quot;ple&quot;]</span>
<span class="token string">'myapple apple people simple'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?&lt;!ap)ple/g</span><span class="token punctuation">)</span>  <span class="token comment">// =&gt; [&quot;ple&quot;, &quot;ple&quot;]</span>
<span class="token comment">// 预查不消耗字符串的示例</span>
<span class="token string">'12345678901'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\B(?=(?:\d{4})+$)/g</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>  <span class="token comment">// =&gt; '123-4567-8901'</span>
<span class="token string">'pa pad p apa apad'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\bp(?=a)\b/g</span><span class="token punctuation">)</span>  <span class="token comment">// =&gt; null 这相当于一个死循环，所以不会匹配</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3-正则测试方法"><a href="#_3-正则测试方法" class="header-anchor">#</a> 3. 正则测试方法</h2> <h4 id="_3-1-regexp方法"><a href="#_3-1-regexp方法" class="header-anchor">#</a> 3.1 RegExp方法</h4> <p><code>RegExp对象</code>包含两个常用方法：<code>test()</code>和<code>exec()</code>，功能基本相似，用于测试字符串匹配。</p> <ol><li><code>reg.test(string)</code>方法在字符串中查找是否存在指定的正则表达式，并返回布尔值，如果存在则返回true，否则返回false。</li> <li><code>reg.exec(string)</code>方法也用于在字符串中查找指定正则表达式，如果exec()执行成功，则返回包含该查找字符串的相关信息数据，否则返回null。（返回结果数组）</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/[^(ap)]ple\b/g</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'apple simple people'</span><span class="token punctuation">)</span> 
<span class="token comment">// =&gt; [&quot;mple&quot;, index: 8, input: &quot;apple simple people&quot;, groups: undefined]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_3-2-字符串方法"><a href="#_3-2-字符串方法" class="header-anchor">#</a> 3.2 字符串方法</h4> <ol><li><code>match(pattern)</code>: 在一个字符串中寻找一个与正则表达式模式（pattern）的匹配，返回pattern匹配到的字符串或者null</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'apple people simple'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?&lt;=peo)(ple)/g</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; [&quot;ple&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><code>replace(pattern,replacement)</code>: 用replacement替换pattern</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'apple people simple'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\b/g</span><span class="token punctuation">,</span><span class="token string">'-'</span><span class="token punctuation">)</span>  <span class="token comment">// =&gt; &quot;-apple- -people- -simple-&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li><code>search(pattern)</code>: 返回正则(pattern)匹配到的字符串的首字母在string中的位置（下标）,没有匹配到则返回<code>-1</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'xiao da duo shao '</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/ao/g</span><span class="token punctuation">)</span>   <span class="token comment">// =&gt; 2</span>
<span class="token string">'xiao da duo shao '</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/qq/g</span><span class="token punctuation">)</span>   <span class="token comment">// =&gt; -1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="4"><li><code>split(pattern)</code>: 返回字符串按指定pattern拆分的数组</li></ol> <h2 id="_4-命名分组"><a href="#_4-命名分组" class="header-anchor">#</a> 4. 命名分组</h2> <p>命名分组d的语法是 <code>(?&lt;name&gt;...)</code>, 反向引用的语法是 <code>\k&lt;name&gt;</code>或<code>$&lt;name&gt;</code>，也可以通过数字索引来反向引用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/(?&lt;foo&gt;a)\k&lt;foo&gt;\1/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(?&lt;foo&gt;a)/</span><span class="token punctuation">,</span> <span class="token string">&quot;$&lt;foo&gt;-&quot;</span><span class="token punctuation">)</span> <span class="token comment">// &quot;a-bc&quot;，同样 $1 仍然可用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>exec()</code> 和 <code>match()</code> 方法返回的匹配结果数组上多了一个 groups 属性， groups 属性只有在当前正则里至少存在一个命名分组的前提下才会存在，可以利用 ES6 的解构语法，方便的取出想要的字段</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;04-25-2017&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})-(?&lt;year&gt;\d{4})/</span><span class="token punctuation">)</span>
<span class="token comment">// [&quot;04-25-2017&quot;, &quot;04&quot;, &quot;25&quot;, &quot;2017&quot;, index: 0, input: &quot;04-25-2017&quot;,</span>
<span class="token comment">// groups: {month: &quot;04&quot;, day: &quot;25&quot;, year: &quot;2017&quot;}]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">9/23/2020, 3:54:11 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Js/高阶函数.html" class="prev">
        高阶函数
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.04cf801e.js" defer></script><script src="/assets/js/2.a854afe6.js" defer></script><script src="/assets/js/7.9348dc28.js" defer></script>
  </body>
</html>
